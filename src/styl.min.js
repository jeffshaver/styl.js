/* styl.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/styl.js/blob/master/LICENSE */
!function(e,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.styl=n()}(this,function(){"use strict";var e="You have passed {{count}} parameters. This is not a correct syntax.",n="styl.js has not been initialized. Try running inject first.",t="no styles for `{{selector}}` have been added",r=/\,\s*/,i=/([a-z])([A-Z])/g,o=/::(-webkit|-ms|-moz|-o)/i,u=!1,s=!0,a=!1,c=null,l=function(e,n,t){var r,i=[];t=t||this;for(r in e)e.hasOwnProperty(r)&&i.push(n.call(t,e[r],r,e));return i},f=function(e,n,t){var r,i,o,u={};t=t||this;for(r in e)e.hasOwnProperty(r)&&(o=n.call(t,e[r],r,e),i=v(o),i.forEach(function(e){u[e]||(u[e]=[]),u[e].push(o[e])}));return u},g=function(){this.universal=new h,this.mediaQueries=new m},h=function(){},m=function(){},p=function(e,n,t){var r=n?"\n":"",u=n?"  ":"",s=n?" ":"";return l(f(f(e,function(e,n){var t={};return e.forEach(function(e){var r=v(e,!0);t[r.replace(i,"$1-$2").toLowerCase()+":"+e[r]]=n}),t}),function(e,n){var t,r={};for(t=0;t<e.length;t++)o.test(e[t])&&(r[e[t]+s]=n,e.splice(t--,1));return r[e.join(","+s)]=n,r}),function(e,n){return(t?u:"")+n+s+"{"+r+u+(t?u:"")+e.join(";"+r+u+(t?u:""))+";"+r+(t?u:"")+"}"}).join(r+r)};Object.defineProperty(g.prototype,"toString",{value:function(e){var n=e?"\n":"",t=e?" ":"";return p(d.universal,e)+n+l(d.mediaQueries,function(r,i){return"@media "+i+t+"{"+n+p(r,e,!0)+n+"}"}).join(n)}});var d=new g,y=function(){var e=document.createElement("style");e.id="styl",document.getElementsByTagName("body")[0].appendChild(e),c=document.getElementById("styl"),a=!0},v=function(e,n){var t=Object.keys(e);return n?t[0]:t},w=function(e,n,t){var r;for(r=0;r<t[e].length;r++)if(v(t[e][r],!0)===n)return r;return-1},E=function(e,n){var t;for(t in n)j(e,t,n[t]);return this},j=function(){var n,t,i,o=3===arguments.length,l=d.universal;if(a||y(),2!==arguments.length&&3!==arguments.length)throw new Error("inject(): "+e.replace("{{count}}",arguments.length));return o?(i=arguments[0],n=arguments[1],t=arguments[2],d.mediaQueries[i]||(d.mediaQueries[i]=new h),l=d.mediaQueries[i]):(n=arguments[0],t=arguments[1]),"string"==typeof n&&(n=n.split(r)),n.forEach(function(e){l.hasOwnProperty(e)||(l[e]=[])}),t.forEach(function(e){var t=v(e,!0);n.forEach(function(n){var r=w(n,t,l);-1!==r?l[n][r]=e:l[n].push(e)})}),u&&(c.innerHTML=d.toString(!s)),this},b=function(){var i,o,l,f=3===arguments.length,g=d.universal;if(!a)throw new Error("eject(): "+n);if(2!==arguments.length&&3!==arguments.length)throw new Error("eject(): "+e.replace("{{count}}",arguments.length));return f?(i=arguments[0],o=arguments[1],l=arguments[2],g=d.mediaQueries[i]):(o=arguments[0],l=arguments[1]),"string"==typeof o&&(o=o.split(r)),o.forEach(function(e){if(!g.hasOwnProperty(e))throw new Error("eject(): "+t.replace("{{selector}}",e))}),"string"==typeof l&&(l=l.split(r)),l.forEach(function(e){o.forEach(function(n){var t=w(n,e,g);-1!==t&&g[n].splice(t,1),0===g[n].length&&delete g[n]})}),f&&0===v(g).length&&delete d.mediaQueries[i],u&&(c.innerHTML=d.toString(!s)),this},Q=function(){var e,n,t=3===arguments.length,i=d.universal;return t?(e=arguments[0],n=arguments[1],i=d.mediaQueries[e]):n=arguments[0],n?("string"==typeof n&&(n=n.split(r)),n.forEach(function(e){delete i[e]}),t&&0===v(i).length&&delete d.mediaQueries[e],this):(d=new g,u&&(c.innerHTML=d.toString(!s)),this)},S=function(e){return null==e&&(e=!0),c.innerHTML=d.toString(!e),this},T=function(e){if(null==e&&(e=!0),!a)throw new Error("getStyles(): "+n);return d.toString(!e)},A=function(e,n){if("boolean"!=typeof e)throw new Error("setAutoApply(): value must be a boolean");return u=e,null!=n&&(s=n),this},O=function(){};return O.prototype={inject:j,eject:b,ejectAll:Q,injectMQ:E,apply:S,getStyles:T,setAutoApply:A},new O});
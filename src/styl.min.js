/* styl.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/styl.js/blob/master/LICENSE */
!function(e,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.styl=n()}(this,function(){"use strict";var e="You have passed {{count}} parameters. This is not a correct syntax.",n="styl.js has not been initialized. Try running inject first.",t="no styles for `{{selector}}` have been added",r=/\,\s*/,i=/([a-z])([A-Z])/g,o=!1,u=!0,a=!1,s=null,c=function(e,n,t){var r,i=[];t=t||this;for(r in e)e.hasOwnProperty(r)&&i.push(n.call(t,e[r],r,e));return i},l=function(e,n,t){var r,i,o,u={};t=t||this;for(r in e)e.hasOwnProperty(r)&&(o=n.call(t,e[r],r,e),i=y(o),i.forEach(function(e){u[e]||(u[e]=[]),u[e].push(o[e])}));return u},f=function(){this.universal=new g,this.mediaQueries=new h},g=function(){},h=function(){},m=function(e,n,t){var r=n?"\n":"",o=n?"  ":"",u=n?" ":"";return c(l(l(e,function(e,n){var t={};return e.forEach(function(e){var r=y(e,!0);t[r.replace(i,"$1-$2").toLowerCase()+":"+e[r]]=n}),t}),function(e,n){var t={};return t[e.join(","+u)]=n,t}),function(e,n){return(t?o:"")+n+u+"{"+r+o+(t?o:"")+e.join(";"+r+o+(t?o:""))+";"+r+(t?o:"")+"}"}).join(r+r)};Object.defineProperty(f.prototype,"toString",{value:function(e){var n=e?"\n":"",t=e?" ":"";return m(p.universal,e)+n+c(p.mediaQueries,function(r,i){return"@media "+i+t+"{"+n+m(r,e,!0)+n+"}"}).join(n)}});var p=new f,d=function(){var e=document.createElement("style");e.id="styl",document.getElementsByTagName("body")[0].appendChild(e),s=document.getElementById("styl"),a=!0},y=function(e,n){var t=Object.keys(e);return n?t[0]:t},v=function(e,n,t){var r;for(r=0;r<t[e].length;r++)if(y(t[e][r],!0)===n)return r;return-1},w=function(e,n){var t;for(t in n)E(e,t,n[t]);return this},E=function(){var n,t,i,c=3===arguments.length,l=p.universal;if(a||d(),2!==arguments.length&&3!==arguments.length)throw new Error("inject(): "+e.replace("{{count}}",arguments.length));return c?(i=arguments[0],n=arguments[1],t=arguments[2],p.mediaQueries[i]||(p.mediaQueries[i]=new g),l=p.mediaQueries[i]):(n=arguments[0],t=arguments[1]),"string"==typeof n&&(n=n.split(r)),n.forEach(function(e){l.hasOwnProperty(e)||(l[e]=[])}),t.forEach(function(e){var t=y(e,!0);n.forEach(function(n){var r=v(n,t,l);-1!==r?l[n][r]=e:l[n].push(e)})}),o&&(s.innerHTML=p.toString(!u)),this},j=function(){var i,c,l,f=3===arguments.length,g=p.universal;if(!a)throw new Error("eject(): "+n);if(2!==arguments.length&&3!==arguments.length)throw new Error("eject(): "+e.replace("{{count}}",arguments.length));return f?(i=arguments[0],c=arguments[1],l=arguments[2],g=p.mediaQueries[i]):(c=arguments[0],l=arguments[1]),"string"==typeof c&&(c=c.split(r)),c.forEach(function(e){if(!g.hasOwnProperty(e))throw new Error("eject(): "+t.replace("{{selector}}",e))}),"string"==typeof l&&(l=l.split(r)),l.forEach(function(e){c.forEach(function(n){var t=v(n,e,g);-1!==t&&g[n].splice(t,1),0===g[n].length&&delete g[n]})}),f&&0===y(g).length&&delete p.mediaQueries[i],o&&(s.innerHTML=p.toString(!u)),this},Q=function(){var e,n,t=3===arguments.length,i=p.universal;return t?(e=arguments[0],n=arguments[1],i=p.mediaQueries[e]):n=arguments[0],n?("string"==typeof n&&(n=n.split(r)),n.forEach(function(e){delete i[e]}),t&&0===y(i).length&&delete p.mediaQueries[e],this):(p=new f,o&&(s.innerHTML=p.toString(!u)),this)},b=function(e){return null==e&&(e=!0),s.innerHTML=p.toString(!e),this},S=function(e){if(null==e&&(e=!0),!a)throw new Error("getStyles(): "+n);return p.toString(!e)},T=function(e,n){if("boolean"!=typeof e)throw new Error("setAutoApply(): value must be a boolean");return o=e,null!=n&&(u=n),this},A=function(){};return A.prototype={inject:E,eject:j,ejectAll:Q,createMQ:w,apply:b,getStyles:S,setAutoApply:T},new A});
/* styl.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/styl.js/blob/master/LICENSE */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.styl=t()}(this,function(){"use strict";var e="You have passed %d parameters. This is not a correct syntax.",t="styl.js has not been initialized. Try running inject first.",n="no styles for `%s` have been added",r=/\,\s*/,i=/([a-z])([A-Z])/g,o=/::(-webkit|-ms|-moz|-o)/i,u=/^((!{0,1}(only|all|braille|embossed|handheld|print|projection|screen|speech|tty|tv)\s{1})|\()/,a=!1,c=!1,l=!1,s=null,f=null,h=function(e,t){var n;for(n in this)this.hasOwnProperty(n)&&e.call(t||this,this[n],n,this)},d=function(){};d.prototype={},Object.defineProperties(d.prototype,{count:{value:function(){return Object.keys(this).length},enumerable:!1,configurable:!1},forEach:{value:h,enumerable:!1,configurable:!1}});var p=function(){};p.prototype={},Object.defineProperties(p.prototype,{toString:{value:function(e,t){var n=e?"\n":"",r=e?"  ":"",i=e?" ":"";return null==t&&(t=!1),m(w(w(this,function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n+":"+i+e[n]]=t);return r}),function(e,t){var n,r={};for(n=0;n<e.length;n++)o.test(e[n])&&(r[e[n]+i]=t,e.splice(n--,1));return 0===e.length?r:(r[e.join(","+i)]=t,r)}),function(e,o){return(t?r:"")+o+i+"{"+n+r+(t?r:"")+e.join(";"+n+r+(t?r:""))+";"+n+(t?r:"")+"}"}).join(n+n)},enumerable:!1,configurable:!1},generateSelector:{value:function(e){return this[e]||(this[e]=new d(!1)),this[e]},enumerable:!1,configurable:!1},count:{value:function(){return Object.keys(this).length},enumerable:!1,configurable:!1},forEach:{value:h,enumerable:!1,configurable:!1},injectStyles:{value:function(e,t){return e=Q(e),e.forEach(function(e){b(this.generateSelector(e),t)},this),this},enumerable:!1,configurable:!1},ejectStyles:{value:function(e,t){return e=Q(e),E(e)?void this.forEach(function(t,n){-1===e.indexOf("!"+n)&&delete this[n]}):void 0!==t&&E(t)?void this.forEach(function(n,r){-1!==e.indexOf(r)&&n.forEach(function(e,n){-1===t.indexOf("!"+n)&&delete this[n]})}):(e.forEach(function(e){return E(e)&&!this.hasOwnProperty(e.substr(1)||!this.hasOwnProperty(e))?void console.error("eject(): "+n,e):t?void t.forEach(function(t){delete this[e][t]},this):void delete this[e]},this),this)},enumerable:!1,configurable:!1}});var v=function(){};v.prototype={},Object.defineProperties(v.prototype,{toString:{value:function(e){var t=e?"\n":"",n=e?" ":"";return m(this,function(r,i){return"@media "+i+n+"{"+t+r.toString(e,!0)+t+"}"}).join("")},enumerable:!1,configurable:!1},forEach:{value:h,enumerable:!1,configurable:!1},generateMediaQuery:{value:function(e){return this[e]||(this[e]=new p),this[e]},enumerable:!1,configurable:!1},ejectMediaQuery:{value:function(e){E(e)&&this.forEach(function(t,n){e!=="!"+n&&delete this[n]}),delete this[e]},enumerable:!1,configurable:!1},ejectMediaQueryIfEmpty:{value:function(e){0===this[e].count()&&delete this[e]},enumerable:!1,configurable:!1}});var y=function(){this.universal=new p,this.mediaQueries=new v};y.prototype={},Object.defineProperty(y.prototype,"toString",{value:function(e){return null==e&&(e=!0),this.universal.toString(e)+this.mediaQueries.toString(e)},enumerable:!1,configurable:!1});var b=function(e,t){var n;for(n in t)e[n]=t[n];return e},g=function(e){return Object.prototype.toString.call(e).replace(/^\[\w*\s|\]/g,"").toLowerCase()},m=function(e,t,n){var r,i=[];n=n||this;for(r in e)e.hasOwnProperty(r)&&i.push(t.call(n,e[r],r,e));return i},j=function(e,t){var n=Object.keys(e);return t?n[0]:n},w=function(e,t,n){var r,i,o,u={};n=n||this;for(r in e)e.hasOwnProperty(r)&&(o=t.call(n,e[r],r,e),i=j(o),i.forEach(function(e){u[e]||(u[e]=[]),u[e].push(o[e])}));return u},O=function(){var e=document.createElement("style");e.id="styl",f=new y,document.getElementsByTagName("body")[0].appendChild(e),s=document.getElementById("styl"),l=!0},S=function(e){return u.test(e)},E=function(e){return"string"===g(e)?"!"===e.charAt(0):"!"===e[0].charAt(0)},P=function(e){return 2===e.length||3===e.length},Q=function(e){return"array"===g(e)?e:e.split(r)},M=function(e){return e.replace(i,"$1-$2").toLowerCase()},A=function(e,t){var n,r=new d(e);Object.defineProperty(r,"isMediaQuery",{value:e,enumerable:!1,configurable:!1});for(n in t)t.hasOwnProperty(n)&&(r[M(n)]=t[n]);return r},x=function(){var t,n,r=Array.prototype.slice.call(arguments,0),i=S(r[0]),o=r[0],u=r[1];return l||O(),t=f.universal,P(r)?i&&(n=r[0],o=r[1],u=r[2],t=f.mediaQueries.generateMediaQuery(n),void 0===u)?k.call(this,n,o):(t.injectStyles(o,A(i,u)),this):void console.error("inject(): "+e,r.length)},k=function(e,t){var n;for(n in t)x(e,n,t[n]);return this},T=function(){var e,n,r=Array.prototype.slice.call(arguments,0),i=S(r[0]),o=r[0],u=r[1];if(!l)return void console.error("eject(): "+t);if(e=f.universal,i){if(n=r[0],o=r[1],u=r[2],void 0===o&&void 0===u)return f.mediaQueries.ejectMediaQuery(n),this;e=f.mediaQueries[n]}return void 0===o&&void 0===u?(f=new y,this):(e.ejectStyles(o,u),i&&f.mediaQueries.ejectMediaQueryIfEmpty(n),this)},z=function(e){return void 0===e&&(e=!1),s.innerHTML=f.toString(e),this},C=function(e){return a=e.apply||a,c=e.whitespace||c,this},I=function(e){return void 0===e&&(e=!1),l?f.toString(e):void console.error("getStyles(): "+t)},L=function(){};return L.prototype={},Object.defineProperties(L.prototype,{inject:{value:x,enumerable:!1,configurable:!1},eject:{value:T,enumerable:!1,configurable:!1},getStyles:{value:I,enumerable:!1,configurable:!1},apply:{value:z,enumerable:!1,configurable:!1},setAutoApply:{value:C,enumerable:!1,configurable:!1}}),new L});
/* styl.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/styl.js/blob/master/LICENSE */
!function(e,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.styl=n()}(this,function(){"use strict";var e,n="You have passed {{count}} parameters. This is not a correct syntax.",t="styl.js has not been initialized. Try running inject first.",r="no styles for `{{selector}}` have been added",i=/\,\s*/,u=!1,o=!0,s=!1,a=function(e,n,t){var r,i=[],t=t||this;for(r in e)e.hasOwnProperty(r)&&i.push(n.call(t,e[r],r,e));return i},c=function(e,n,t){var r,i,u,o={},t=t||this;for(r in e)e.hasOwnProperty(r)&&(u=n.call(t,e[r],r,e),i=d(u),i.forEach(function(e){o[e]||(o[e]=[]),o[e].push(u[e])}));return o},f=function(){this.universal=new l,this.mediaQueries=new g},l=function(){},g=function(){},h=function(e,n,t){var r=n?"\n":"",i=n?"  ":"",u=n?" ":"";return a(c(c(e,function(e,n){var t={};return e.forEach(function(e){var r=d(e,!0);t[r+":"+e[r]]=n}),t}),function(e,n){var t={};return t[e.join(","+u)]=n,t}),function(e,n){return(t?i:"")+n+u+"{"+r+i+(t?i:"")+e.join(";"+r+i+(t?i:""))+";"+r+(t?i:"")+"}"}).join(r+r)};Object.defineProperty(f.prototype,"toString",{value:function(e){var n=e?"\n":"",t=e?" ":"";return h(m.universal,e)+n+a(m.mediaQueries,function(r,i){return"@media "+i+t+"{"+n+h(r,e,!0)+n+"}"}).join(n)}});var m=new f,p=function(){var n=document.createElement("style");n.id="styl",document.getElementsByTagName("body")[0].appendChild(n),e=document.getElementById("styl"),s=!0},d=function(e,n){var t=Object.keys(e);return n?t[0]:t},y=function(e,n,t){var r;for(r=0;r<t[e].length;r++)if(d(t[e][r],!0)===n)return r;return-1},v=function(){var t,r,a,c=3===arguments.length,f=m.universal;if(s||p(),2!==arguments.length&&3!==arguments.length)throw new Error("inject(): "+n.replace("{{count}}",arguments.length));return c?(a=arguments[0],t=arguments[1],r=arguments[2],m.mediaQueries[a]||(m.mediaQueries[a]=new l),f=m.mediaQueries[a]):(t=arguments[0],r=arguments[1]),"string"==typeof t&&(t=t.split(i)),t.forEach(function(e){f.hasOwnProperty(e)||(f[e]=[])}),r.forEach(function(e){var n=d(e,!0);t.forEach(function(t){var r=y(t,n,f);-1!==r?f[t][r]=e:f[t].push(e)})}),u&&(e.innerHTML=m.toString(!o)),this},w=function(){var a,c,f,l=3===arguments.length,g=m.universal;if(!s)throw new Error("eject(): "+t);if(2!==arguments.length&&3!==arguments.length)throw new Error("eject(): "+n.replace("{{count}}",arguments.length));return l?(a=arguments[0],c=arguments[1],f=arguments[2],g=m.mediaQueries[a]):(c=arguments[0],f=arguments[1]),"string"==typeof c&&(c=c.split(i)),c.forEach(function(e){if(!g.hasOwnProperty(e))throw new Error("eject(): "+r.replace("{{selector}}",e))}),"string"==typeof f&&(f=f.split(i)),f.forEach(function(e){c.forEach(function(n){var t=y(n,e,g);-1!==t&&g[n].splice(t,1),0===g[n].length&&delete g[n]})}),l&&0===d(g).length&&delete m.mediaQueries[a],u&&(e.innerHTML=m.toString(!o)),this},E=function(){var n,t,r=3===arguments.length,s=m.universal;return r?(n=arguments[0],t=arguments[1],s=m.mediaQueries[n]):t=arguments[0],t?("string"==typeof t&&(t=t.split(i)),t.forEach(function(e){delete s[e]}),r&&0===d(s).length&&delete m.mediaQueries[n],this):(m=new f,u&&(e.innerHTML=m.toString(!o)),this)},j=function(n){return null==n&&(n=!0),e.innerHTML=m.toString(!n),this},b=function(e){if(null==e&&(e=!0),!s)throw new Error("getStyles(): "+t);return m.toString(!e)},Q=function(e,n){if("boolean"!=typeof e)throw new Error("setAutoApply(): value must be a boolean");return u=e,null!=n&&(o=n),this},S=function(){};return S.prototype={inject:v,eject:w,ejectAll:E,apply:j,getStyles:b,setAutoApply:Q},new S});
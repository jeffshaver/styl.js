/* styl.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/styl.js/blob/master/LICENSE */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.styl=t()}(this,function(){"use strict";var e="You have passed %d parameters. This is not a correct syntax.",t="no styles for `%s` have been added",n=/\,\s*/,r=/([a-z])([A-Z])/g,i=/::(-webkit|-ms|-moz|-o)/i,o=/^((!{0,1}(only|all|braille|embossed|handheld|print|projection|screen|speech|tty|tv)\s{1})|\()/,u=!1,a=!1,l=!1,c=null,s=null,f=function(e){return Array.prototype.slice.call(e,0)},h=function(e,t){var n,r,i=j(this);for(r=0;r<i.length;r++)n=i[r],e.call(t||this,this[n],n,this)},d=function(){};d.prototype={},Object.defineProperties(d.prototype,{count:{value:function(){return j(this).length},enumerable:!1,configurable:!1},forEach:{value:h,enumerable:!1,configurable:!1}});var v=function(){};v.prototype={},Object.defineProperties(v.prototype,{toString:{value:function(e,t){var n=e?"\n":"",r=e?"  ":"",o=e?" ":"";return null==t&&(t=!1),m(S(S(this,function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n+":"+o+e[n]]=t);return r}),function(e,t){var n,r={};for(n=0;n<e.length;n++)i.test(e[n])&&(r[e[n]+o]=t,e.splice(n--,1));return 0===e.length?r:(r[e.join(","+o)]=t,r)}),function(e,i){return(t?r:"")+i+o+"{"+n+r+(t?r:"")+e.join(";"+n+r+(t?r:""))+";"+n+(t?r:"")+"}"}).join(n+n)},enumerable:!1,configurable:!1},generateSelector:{value:function(e){return this[e]||(this[e]=new d(!1)),this[e]},enumerable:!1,configurable:!1},getAllSelectors:{value:function(){return j(this)},enumerable:!1,configurable:!1},count:{value:function(){return this.getAllSelectors().length},enumerable:!1,configurable:!1},forEach:{value:h,enumerable:!1,configurable:!1},injectStyles:{value:function(e,t){return e=P(e),e.forEach(function(e){b(this.generateSelector(e),t)},this),this},enumerable:!1,configurable:!1},ejectStyles:{value:function(e,n){return null===e&&(e=this.getAllSelectors().join(",")),e=P(e),E(e)?void this.forEach(function(t,n){-1===e.indexOf("!"+n)&&delete this[n]}):void 0!==n&&E(n)?void this.forEach(function(t,r){-1!==e.indexOf(r)&&t.forEach(function(e,t){-1===n.indexOf("!"+t)&&delete this[t]})}):(e.forEach(function(e){return E(e)&&!this.hasOwnProperty(e.substr(1)||!this.hasOwnProperty(e))?void console.error("eject(): "+t,e):n?void n.forEach(function(t){delete this[e][t]},this):void delete this[e]},this),this)},enumerable:!1,configurable:!1},containsStylesForSelectors:{value:function(e,t){var n,r,i;if(null===e&&(e=this.getAllSelectors().join(",")),0===e.length)return!1;for(e=P(e),n=0;n<e.length;n++)for(i=this[e[n]],r=0;r<t.length;r++)if(!i.hasOwnProperty(t[r]))return!1;return!0},enumerable:!1,configurable:!1}});var g=function(){};g.prototype={},Object.defineProperties(g.prototype,{toString:{value:function(e){var t=e?"\n":"",n=e?" ":"";return m(this,function(r,i){return"@media "+i+n+"{"+t+r.toString(e,!0)+t+"}"}).join("")},enumerable:!1,configurable:!1},forEach:{value:h,enumerable:!1,configurable:!1},generateMediaQuery:{value:function(e){return this[e]||(this[e]=new v),this[e]},enumerable:!1,configurable:!1},ejectMediaQuery:{value:function(e){E(e)&&this.forEach(function(t,n){e!=="!"+n&&delete this[n]}),delete this[e]},enumerable:!1,configurable:!1},ejectMediaQueryIfEmpty:{value:function(e){0===this[e].count()&&delete this[e]},enumerable:!1,configurable:!1}});var p=function(){this.universal=new v,this.mediaQueries=new g};p.prototype={},Object.defineProperty(p.prototype,"toString",{value:function(e){return null==e&&(e=!0),this.universal.toString(e)+this.mediaQueries.toString(e)},enumerable:!1,configurable:!1});var b=function(e,t){var n;for(n in t)e[n]=t[n];return e},y=function(e){return Object.prototype.toString.call(e).replace(/^\[\w*\s|\]/g,"").toLowerCase()},m=function(e,t,n){var r,i=[];n=n||this;for(r in e)e.hasOwnProperty(r)&&i.push(t.call(n,e[r],r,e));return i},j=function(e,t){var n=Object.keys(e);return t?n[0]:n},S=function(e,t,n){var r,i,o,u={};n=n||this;for(r in e)e.hasOwnProperty(r)&&(o=t.call(n,e[r],r,e),i=j(o),i.forEach(function(e){u[e]||(u[e]=[]),u[e].push(o[e])}));return u},w=function(){var e=document.createElement("style");e.id="styl",s=new p,document.getElementsByTagName("body")[0].appendChild(e),c=document.getElementById("styl"),l=!0},O=function(e){return o.test(e)},E=function(e){return"string"===y(e)?"!"===e.charAt(0):"!"===e[0].charAt(0)},Q=function(e){return 2===e.length||3===e.length},P=function(e){return"array"===y(e)?e:e.split(n)},A=function(e){return e.replace(r,"$1-$2").toLowerCase()},M=function(e,t){var n,r=new d(e);Object.defineProperty(r,"isMediaQuery",{value:e,enumerable:!1,configurable:!1});for(n in t)t.hasOwnProperty(n)&&(r[A(n)]=t[n]);return r},x=function(){var t,n,r=f(arguments),i=O(r[0]),o=r[0],u=r[1];return l||w(),t=s.universal,Q(r)?i&&(n=r[0],o=r[1],u=r[2],t=s.mediaQueries.generateMediaQuery(n),void 0===u)?C.call(this,n,o):(t.injectStyles(o,M(i,u)),this):void console.error("inject(): "+e,r.length)},C=function(e,t){var n,r,i=j(t);for(r=0;r<i.length;r++)n=i[r],x(e,n,t[i]);return this},I=function(){var e,t,n=f(arguments),r=O(n[0]),i=n[0],o=n[1];if(l||w(),e=s.universal,r){if(t=n[0],i=n[1],o=n[2],void 0===i&&void 0===o)return s.mediaQueries.ejectMediaQuery(t),this;e=s.mediaQueries[t]}return"array"===y(i)?(o=i,i=null,e.ejectStyles(i,o),this):void 0===i&&void 0===o?(s=new p,this):(e.ejectStyles(i,o),r&&s.mediaQueries.ejectMediaQueryIfEmpty(t),this)},L=function(e){return void 0===e&&(e=!1),c.innerHTML=s.toString(e),this},T=function(e){return u=e.apply||u,a=e.whitespace||a,this},k=function(e){return void 0===e&&(e=!1),l||w(),s.toString(e)},z=function(){var e,t,n=f(arguments),r=O(n[0]),i=n[0],o=n[1];return l||w(),e=s.universal,r&&(t=n[0],i=n[1],o=n[2],e=s.mediaQueries.generateMediaQuery(t)),"array"===y(i)&&(o=i,i=null),e.containsStylesForSelectors(i,o)},B=function(){};return B.prototype={},Object.defineProperties(B.prototype,{inject:{value:x,enumerable:!1,configurable:!1},eject:{value:I,enumerable:!1,configurable:!1},getStyles:{value:k,enumerable:!1,configurable:!1},apply:{value:L,enumerable:!1,configurable:!1},setAutoApply:{value:T,enumerable:!1,configurable:!1},contains:{value:z,enumerable:!1,configurable:!1}}),new B});
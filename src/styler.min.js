/* styler.js | Copyright 2014 Jeffrey E. Shaver II | Released under the MIT license | https://github.com/jeffshaver/styler.js/blob/master/LICENSE */
!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():t.styler=n()}(this,function(){"use strict";var t,n="To use this syntax, you must provide a value as the third paramter",e="styler.js has not been initialized. Try running inject first.",r="no styles for `{{selector}}` have been added",o=/\,\s*/,i=!1,u=!0,f=!1,c=function(t,n,e){var r,o=[],e=e||this;for(r in t)t.hasOwnProperty(r)&&o.push(n.call(e,t[r],r,t));return o},s=function(t,n,e){var r,o,i,u={},e=e||this;for(r in t)t.hasOwnProperty(r)&&(i=n.call(e,t[r],r,t),o=p(i),o.forEach(function(t){u[t]||(u[t]=[]),u[t].push(i[t])}));return u},a=function(){};Object.defineProperty(a.prototype,"toString",{value:function(t){var n=t?"\n":"",e=t?"  ":"",r=t?" ":"";return c(s(s(l,function(t,n){var e={};return t.forEach(function(t){var r=p(t,!0);e[r+":"+t[r]]=n}),e}),function(t,n){var e={};return e[t.join(","+r)]=n,e}),function(t,o){return o+r+"{"+n+e+t.join(";"+n+e)+";"+n+"}"}).join(n+n)}});var l=new a,h=function(){var n=document.createElement("style");n.id="styler",document.getElementsByTagName("body")[0].appendChild(n),t=document.getElementById("styler"),f=!0},p=function(t,n){var e=Object.keys(t);return n?e[0]:e},y=function(t,n){var e={};return e[t]=n,e},d=function(t,n){var e;for(e=0;e<l[t].length;e++)if(p(l[t][e],!0)===n)return e;return-1},g=function(e,r){if(f||h(),"string"==typeof e&&(e=e.split(o)),e.forEach(function(t){l.hasOwnProperty(t)||(l[t]=[])}),"string"==typeof r){if(!arguments[2])throw new Error("inject(): "+n);r=[y(r,arguments[2])]}return r.forEach(function(t){var n=p(t,!0);e.forEach(function(e){var r=d(e,n);-1!==r?l[e][r]=t:l[e].push(t)})}),i&&(t.innerHTML=l.toString(!u)),this},v=function(n,c){if(!f)throw new Error("eject(): "+e);return"string"==typeof n&&(n=n.split(o)),n.forEach(function(t){if(!l.hasOwnProperty(t))throw new Error("eject(): "+r.replace("{{selector}}",t))}),"string"==typeof c&&(c=c.split(o)),c.forEach(function(t){n.forEach(function(n){var e=d(n,t);-1!==e&&l[n].splice(e,1),0===l[n].length&&delete l[n]})}),i&&(t.innerHTML=l.toString(!u)),this},w=function(){return l=new a,i&&(t.innerHTML=l.toString(!u)),this},E=function(n){return null==n&&(n=!0),t.innerHTML=l.toString(!n),this},j=function(t){if(null==t&&(t=!0),!f)throw new Error("getStyles(): "+e);return l.toString(!t)},m=function(t,n){if("boolean"!=typeof t)throw new Error("setAutoApply(): value must be a boolean");return i=t,null!=n&&(u=n),this},b=function(){};return b.prototype={inject:g,eject:v,ejectAll:w,apply:E,getStyles:j,setAutoApply:m},new b});